
<div data-ng-controller="purchaseOrderController as vm" id="appIdSearch">
	<div ng-show="vm.showSearch">
	<p class="text-brecum">{{vm.String}}</p>
		<form class="form-horizontal row" role="form" >
			<div class="form-body">
				<div class="portlet light bordered">
					<div class="portlet-title background-title">
						<div class="caption">
							<span class="caption-subject bold lowercase" translate>Thông tin tìm kiếm </span>

						</div>
						<div class="text-right margin-row-title">
							<i data-toggle="collapse" data-target="#demoapp"
								class="fa fa-chevron-circle-up" aria-hidden="true"></i>
						</div>
					</div>
					<div id="demoapp" class="collapse in from-search">
						<div class="clearfix position-relative">
							<div class="clearfix">		
								<div class="form-group col-md-6">
									<label class="col-md-4 control-label" translate>Nội dung tìm kiếm</label>
									<div class="col-md-8">
										<div class="input-icon right ">
											
											<input class=" form-control width100" type="text"
												name="keySearch" placeholder="Mã đơn hàng/tên đơn hàng"
												ng-model="vm.purchaseOrderSearch.keySearch" maxlength="200"
												id="keySearch" />
										</div>
									</div>
								</div>
													
								<div class="form-group col-md-6">
								<label class="col-md-4 control-label" translate>Đối tác</label>
								<div class="col-md-8">
									<div class="input-icon right ">
										<i class="fa fa-search directive"
											ng-click="vm.openPartner()" style="cursor: pointer;"></i>
										<input class=" form-control width100" type="text"
											k-options="vm.patternPartnerOptions" kendo-auto-complete
											name="catPartnerName"
											ng-model="vm.purchaseOrderSearch.catPartnerName" maxlength="200"
											id="catPartnerName" />
									</div>
								</div>
								<div class="One_icon">
									<i class="fa fa-times" aria-hidden="true"
										ng-click="vm.cancelPartner()"></i>
								</div>
							</div>
							
							</div>
				
							<div class="clearfix">
								<div class="form-group col-md-6">
								<label class="col-md-4 control-label" translate>Ngày
									ký: Từ ngày </label>
								<div class="col-md-4 position-relative">
									<input kendo-date-picker date-time k-format="'dd/MM/yyyy'" name="signDateFrom"
										id="signDateFrom"
										ng-model="vm.purchaseOrderSearch.signDateFrom" style="width: 100%;" 
										min-year="1000" data-minyear-msg="Ngày ký từ không hợp lệ" 
										ng-change="vm.validateDate()"
										 date-time data-date-msg="Ngày ký từ không hợp lệ" "/>
										<span data-for='signDateFrom' class='k-invalid-msg'></span>
										<span style="color:red">{{vm.listMess.errMessage1}}</span>
								</div>
								
								<label class="col-md-1 control-label" translate>đến</label>
								<div class="col-md-3 position-relative">
									<input kendo-date-picker date-time k-format="'dd/MM/yyyy'" name="signDateTo"
										id="signDateTo"
										ng-model="vm.purchaseOrderSearch.signDateTo" style="width: 100%;" 
										min-year="1000" data-minyear-msg="Ngày ký đến không hợp lệ" 
										ng-change="vm.validateDate()" date-time
										data-date-msg="Ngày ký đến không hợp lệ" "/>
										<span data-for='signDateTo' class='k-invalid-msg'></span>
										<span style="color:red">{{vm.listMess.errMessage}}</span>
								</div>
								
								<div class="One_icon">
									<i class="fa fa-times" aria-hidden="true" ng-click="vm.clearSearchDate()"></i>
								</div>
							</div>
							
								<div class="form-group col-md-6">
									<label class="col-md-4 control-label" translate>Đơn vị ký hợp đồng</label>
									<div class="col-md-8">
									<div class="input-icon right ">
										<i class="fa fa-search directive"
											ng-click="vm.openGroup()" style="cursor: pointer;"></i>
										<input class=" form-control width100" type="text"
											k-options="vm.patternGroupOptions" kendo-auto-complete
											name="sysGroup"
											ng-model="vm.purchaseOrderSearch.sysGroupName" maxlength="200"
											id="sysGroup" />
									</div>
								</div>
									<div class="One_icon">
										<i class="fa fa-times" aria-hidden="true"
											ng-click="vm.cancelGroup()"></i>
									</div>
								</div>
							</div>
							<div class="clearfix">
								<div class="form-group col-md-6">
									<label class="col-md-4 control-label" translate>Trạng thái</label>
									<div class="col-md-8 margin_top">     		
											<input style=" float: left;" type="radio" id="status"
											name="status" ng-model="vm.purchaseOrderSearch.status"
											ng-checked="vm.purchaseOrderSearch.status == ''" value="" >
     										 <span class="padding_radio">Tất cả</span>
																	 
											<input style=" float: left;" type="radio" id="status"
											name="status" ng-model="vm.purchaseOrderSearch.status"
											ng-checked="vm.purchaseOrderSearch.status == 1" value="1" >
     										 <span class="padding_radio">Hiệu lực</span>
     										 
											<input style=" float: left;"  type="radio" id="status"
											name="status" ng-model="vm.purchaseOrderSearch.status"
											ng-checked="vm.purchaseOrderSearch.status == 0" value="0">
     										 <span class="padding_radio">Hết hiệu lực</span>
									</div>
								</div>
							</div>
							<div class="clearfix form-actions margin-top">
								<div class="row">
									<div class="col-md-12 text-center">
										<!-- <button type="button" id="find"
											class="btn green btn-outline padding-search-right"
											ng-click="vm.doSearch()" translate>TÃ¬m kiáº¿m</button> -->
											<button type="button" id="findParam" ng-click="vm.doSearch()" class="btn btn-qlk padding-search-right searchQLK" translate>Tìm kiếm</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="portlet light bordered">
		<div class="portlet-title background-title">
			<div class="caption">
				<span class="caption-subject bold lowercase" translate>
				Kết quả tìm kiếm:  </span>&nbsp;<label class="control-label bold lowercase" id="appCount">{{vm.count}}</label>
				<label class="control-label bold lowercase">&nbsp;bản ghi</label>
				
			</div>
			<div class="text-right margin-row-title">
				<i data-toggle="collapse" data-target="#demoapp2"
					class="fa fa-chevron-circle-up" aria-hidden="true"></i>
			</div>
		</div>
		<div id="demoapp2" class="collapse in from-search">
						<div class="clearfix position-relative">
			<div id="purchaseOrderGrid" kendo-grid="vm.purchaseOrderGrid" k-editable="false"
			k-options="vm.gridOptions"
			k-on-change="vm.onGridChange(kendoEvent, { selected: selected }, data)"></div>
			</div>
			</div>
	</div>
</div>
<script type="text/javascript">
 
		$('#appIdSearch').keypress(function(event){
			$("input").change(function(){
		       $(this).val($.trim($(this).val()));
		      });
			document.onkeydown= keyDown;
            function keyDown(e){
       		switch(e.keyCode) {
       			case 27:
       				$("#cancel").click();
       				break;
       			case 13:
       				if($('.k-widget.k-window.fix-footer').css('display')!=='block'){
       				$("#findParam").click();
					}
       				break;
					
       		}
       	} 
					});
	</script> 
			