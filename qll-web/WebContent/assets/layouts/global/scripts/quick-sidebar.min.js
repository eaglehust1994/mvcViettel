var QuickSidebar=function(){var a=function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(a){$("body").toggleClass("page-quick-sidebar-open")})},i=function(){var a=$(".page-quick-sidebar-wrapper"),i=a.find(".page-quick-sidebar-chat"),e=function(){var e,s=a.find(".page-quick-sidebar-chat-users");e=a.height()-a.find(".nav-tabs").outerHeight(!0),App.destroySlimScroll(s),s.attr("data-height",e),App.initSlimScroll(s);var t=i.find(".page-quick-sidebar-chat-user-messages"),n=e-i.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);n-=i.find(".page-quick-sidebar-nav").outerHeight(!0),App.destroySlimScroll(t),t.attr("data-height",n),App.initSlimScroll(t)};e(),App.addResizeHandler(e),a.find(".page-quick-sidebar-chat-users .media-list > .media").click(function(){i.addClass("page-quick-sidebar-content-item-shown")}),a.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){i.removeClass("page-quick-sidebar-content-item-shown")});var s=function(a){a.preventDefault();var e=i.find(".page-quick-sidebar-chat-user-messages"),s=i.find(".page-quick-sidebar-chat-user-form .form-control"),t=s.val();if(0!==t.length){var n=function(a,i,e,s,t){var n="";return n+='<div class="post '+a+'">',n+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+s+'.jpg"/>',n+='<div class="message">',n+='<span class="arrow"></span>',n+='<span class="plus"></span>',n+='<span class="inventory"></span>',n+='<span class="gl"></span>',n+='<span class="dmgl"></span>',n+='<span class="dm"></span>',n+='<span class="kt"></span>',n+='<span class="tt"></span>',n+='<a href="#" class="name">Bob Nilson</a>&nbsp;',n+='<span class="datetime">'+i+"</span>",n+='<span class="body">',n+=t,n+="</span>",n+="</div>",n+="</div>"},r=new Date,c=n("out",r.getHours()+":"+r.getMinutes(),"Bob Nilson","avatar3",t);c=$(c),e.append(c),e.slimScroll({scrollTo:"1000000px"}),s.val(""),setTimeout(function(){var a=new Date,i=n("in",a.getHours()+":"+a.getMinutes(),"Ella Wong","avatar2","Lorem ipsum doloriam nibh...");i=$(i),e.append(i),e.slimScroll({scrollTo:"1000000px"})},3e3)}};i.find(".page-quick-sidebar-chat-user-form .btn").click(s),i.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(a){return 13==a.which?(s(a),!1):void 0})},e=function(){var a=$(".page-quick-sidebar-wrapper"),i=(a.find(".page-quick-sidebar-alerts"),function(){var i,e=a.find(".page-quick-sidebar-alerts-list");i=a.height()-a.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(e),e.attr("data-height",i),App.initSlimScroll(e)});i(),App.addResizeHandler(i)},s=function(){var a=$(".page-quick-sidebar-wrapper"),i=(a.find(".page-quick-sidebar-settings"),function(){var i,e=a.find(".page-quick-sidebar-settings-list");i=a.height()-a.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(e),e.attr("data-height",i),App.initSlimScroll(e)});i(),App.addResizeHandler(i)};return{init:function(){a(),i(),e(),s()}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){QuickSidebar.init()});