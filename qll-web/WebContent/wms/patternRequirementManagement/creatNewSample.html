<!-- <style>
.form-horizontal .form-group {
    margin-left: -40px;
    margin-right: -15px;
}

</style> -->

<form class="form-horizontal row" role="form" name="createPopup" id="createNewPopupId" kendo-validator="validator" k-options="validatorOptions">
	<div class="form-body">
		<div class="portlet light ">
			<div class="row">
				<div class="caption col-md-12" style="margin-bottom:10px">
					<span class="text-header-popup bold lowercase lowercase ng-scope" translate="">Thông tin chung</span>
				</div>
			</div>

			<div class="padding-width18">
				<div class="border-gray">
					<div class="clearfix">
						<div class="form-group col-md-12">
							<label class="col-md-2 control-label req" translate>Tên mẫu</label>
							<div class="col-md-10">
								<input class="form-control" id="sampleNameNew" name="sampleNameNew"
									ng-blur="focusOut()"
									maxlength="1000" ng-model="data.name" required
									data-required-msg="Tên mẫu không được để trống" /> 
									<span data-for='sampleNameNew' class='k-invalid-msg'></span>
							</div>
						</div>
					</div>
					<div class="clearfix ">
						<div class="form-group col-md-12">
							<label class="col-md-2 control-label" translate>Ghi chú</label>
							<div class="col-md-10">
								<textarea class="form-control" name="description"
									id="description" maxlength="1000" ng-model="data.description"></textarea>
								<span data-for='description' class='k-invalid-msg'></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<div class="portlet light ">
			<div class="row">
							<div class="caption col-md-6"  style="margin-top:5px">
								<span class="text-header-popup bold lowercase lowercase ng-scope" translate="">Danh sách hàng hóa của mẫu</span>
							</div>
							<div class="caption col-md-6">
								<div class="caption col-md-4"  style="margin-top:5px">
									<span class="caption-subject bold lowercase" translate>Bổ sung hàng hóa</span>
								</div>
								<div class="col-md-8 margin-bottom pull-right" >
									<input ng-model="caller.goods.keySearch" id="orderGoods2"  
										kendo-auto-complete k-options="caller.patternOptions1" class="form-control width100" />
								</div>
							</div>
			</div>	
			<div class="padding-width18">
				<div class="border-gray">
					<div id="patternGrid" kendo-grid="caller.patternGrid"
						k-options="caller.gridPatternOptions"
						k-on-change="caller.onGridChange(kendoEvent, { selected: selected }, data)"></div>
				</div>
			</div>	
			
			
		</div>
		</form>
		<div class="clearfix form-actions margin-top">
			<div class="row">
				<div class="col-md-12 text-right">
					<button type="button" class="btn btn-qlk padding-search-right closeQLK" id="cancelSaveId"
						ng-click="caller.cancel()" translate>Hủy bỏ</button>
					<button type="button" class="btn btn-qlk padding-search-right saveQLK" id="savePatternPopup"
						ng-click="save()"  translate>Ghi lại</button>
				</div>
			</div>
		</div>
	</div>

<script type="text/javascript">
	$(document).on("keypress", function (e) {
		switch(e.keyCode) {
			case 27:
				$("#cancelSaveId").click();
				break;
			case 13:
				if($(':focus').size()===0){
					$( "#savePatternPopup" ).click(function( event ) {
						event.stopPropagation();
						});
					$( "#cancelSaveId" ).click(function( event ) {
						event.stopPropagation();
						});
						break;
				}
				if(e.keyCode===13&&!$('#description:focus').length&&!$('#savePatternPopup:focus').length&&!$('#cancelSaveId:focus').length){
					$("#savePatternPopup").click();
					break;
				}
		}
	} );
</script>
