
<div data-ng-controller="stockDailyImportExportController as vm">
	<div ng-show="vm.showSearch">
		<form class="form-horizontal row" role="form" kendo-validator="vm.validator" k-options="vm.validatorOptions">
			<div class="form-body">
				<div class="portlet light bordered">
					<div class="portlet-title background-title">
						<div class="caption ">
							<span class="caption-subject bold lowercase" translate>Thông tin tìm kiếm</span>
						</div>
						<div class="text-right margin-row-title">
							<i data-toggle="collapse" data-target="#demo26"
								class="fa fa-chevron-circle-up" aria-hidden="true"></i>
						</div>
					</div>
					<div id="demo26" class="collapse in from-search">
						<div class="clearfix">
							<auto-search id="kho" model-label="Kho" caller="vm" req="req" data-required-msg="Tên kho không được để trống"
								template-url="views/popup/gridView.html" header-template="vm.headerTemplate"
								template-auto="vm.template" page="1" page-size="20"
								popup-id="stockId" popup-type="gridplus" searchType ="searchStock"
								popup-source-link="stockRsServiceRest/doSearch"
								combo-id="stockId"
								combo-source-link="stockRsServiceRest/getForAutoCompleteStock"
								combo-name="name" combo-value="code" combo-code="name"
								combo-search="vm.commonSearch" combo-grid="vm.gridCommon"
								model-id="vm.stockGoodsDailyImportExportSearch.stockId" 
								model-name="vm.stockGoodsDailyImportExportSearch.stockName"
								ng-model="vm.stockGoodsDailyImportExportSearch.stock"> </auto-search>
							<span data-for='kho' class='k-invalid-msg'></span>
							<div class="form-group col-md-6">
								<label class="col-md-5 control-label req" translate>Ngày tạo: Từ ngày </label>
								<div class="col-md-3">
									<input kendo-date-picker class="form-control width100" required data-date-msg="Ngày tạo không hợp lệ"
										name="startDate" ng-model="vm.stockDailyImportExportSearch.startDate" data-required-msg="Ngày tạo không được để trống"
										k-format="'dd/MM/yyyy'" id="startDate" />
										<span data-for="startDate" class="k-invalid-msg"></span>
								</div>
								<script>
									$(function() {
										var transDate = $("#startDate");
										transDate.kendoMaskedTextBox({
											mask : "00/00/0000"
										});
										transDate.closest(".k-datepicker").add(transDate).removeClass("k-textbox");
									});
								</script>
								<label class="col-md-1 control-label" translate>đến</label>
									<div class="col-md-3 position-relative">
										<input kendo-date-picker class="form-control width100" 
											name="endDate" ng-model="vm.stockDailyImportExportSearch.endDate" 
											k-format="'dd/MM/yyyy'" id="endDate" />
									</div>
								
								<script>
									$(function() {
										var transDate = $("#endDate");
										transDate.kendoMaskedTextBox({
											mask : "00/00/0000"
										});
										transDate.closest(".k-datepicker").add(transDate).removeClass("k-textbox");
									});
								</script>
								
								<div class="One_icon" ng-click="vm.cancelStock('clearDate')">
									<i class="fa fa-times" aria-hidden="true"></i>
								</div>
								
								<!-- <script>
									function validateType(){
										var typeAdds = document.getElementsByName("startDate");
							            if (typeAdd=="") {
							                var msg = '<span >Ngày tạo không để trống</span><br /><br />';
							                document.getElementById('validDate').innerHTML = msg;
							            }
							            return null;
									} 
									function reset_msg(){
										document.getElementById('msg').innerHTML = '';
									}
								</script> -->
							</div>
						</div>
						
						<div class="clearfix form-actions margin-top">
							<div class="row">
								<div class="col-md-12 text-center">
									<button type="button" ng-click="vm.doSearch()"
										class="btn btn-qlk padding-search-right  noteQLK" translate>Xem trước</button>
									<button type="button" id=""
										class="btn excelQLK  btn-qlk padding-search-right" translate>Xuất excel</button>
									<button type="button"  ng-click="vm.exportpdf()"
										class="btn btn-qlk padding-search-right  pdfQLK" translate>Xuất pdf</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	
	<div class="portlet light bordered">
		<div class="portlet-title background-title">
			<div class="caption">
				<span class="caption-subject bold lowercase" translate>Kết quả tìm kiếm: {{vm.stockDailyImportExportGrid.dataSource.total()}} bản ghi</span>
			</div>
			<div class="text-right margin-row-title">
				<i data-toggle="collapse" data-target="#demo18"
					class="fa fa-chevron-circle-up" aria-hidden="true"></i>
			</div>
		</div>

		<div id="demo18" class="collapse in from-search">
			<div id="stockDailyImportExportGrid"
				kendo-grid="vm.stockDailyImportExportGrid" k-editable="false"
				k-options="vm.stockDailyImportExportGridOptions"></div>
		</div>
	</div>
</div>