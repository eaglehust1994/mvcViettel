<div data-ng-controller="findSerialController as vm" kendo-validator="vm.validator" k-options="vm.validatorOptions">
	<div ng-show="vm.showSearch">
		<form class="form-horizontal row" role="form">
			<div class="form-body">
				<div class="portlet light bordered">
					<div class="portlet-title background-title">
						<div class="caption ">
							<span class="caption-subject bold lowercase" translate>Thông tin tìm kiếm </span>
						</div>
						<div class="text-right margin-row-title">
							<i data-toggle="collapse" data-target="#demoFindSerial"
								class="fa fa-chevron-circle-up" aria-hidden="true"></i>
						</div>
					</div>
					<div id="demoFindSerial" class="collapse in from-search">
						<div class="clearfix position-relativeform-group  col-md-10">
							<auto-search model-label="Kho" caller="vm"
								template-url="views/popup/gridView.html" header-template="vm.headerTemplate" 
								template-auto="vm.templateStock" page="1" page-size="20" 
								popup-id="ar_deposit_browser_adOrgId" popup-type="gridplus"
								popup-source-link="stockRsServiceRest/doSearch"
								combo-id="findSerial"
								combo-source-link="stockRsServiceRest/getForAutoCompleteStock"
								combo-name="name" combo-value="stockId" combo-code="name"
								combo-search="vm.commonSearch" combo-grid="vm.gridCommon"
								model-id="vm.findSerialSearch.stockId" 
								model-name="vm.findSerialSearch.stockName"> </auto-search>													
							<auto-search model-label="Hàng hóa" caller="vm"
								template-url="views/popup/gridView.html" header-template="vm.headerTemplate" 
								template-auto="vm.templateGoods" page="1" page-size="20" 
								popup-id="Goods_AutoComplete" popup-type="gridplus"
								popup-source-link="goodsRsServiceRest/doSearchActiveGoods"
								combo-id="findGoods"
								combo-source-link="goodsRsServiceRest/getForAutoCompleteGoods"
								combo-name="name" combo-value="goodsId" combo-code="name"
								combo-search="vm.commonSearch" combo-grid="vm.gridCommonGoods"
								model-id="vm.findSerialSearch.goodsId" 
								model-name="vm.findSerialSearch.goodsName"> </auto-search>
						</div>
						<div class="clearfix ">
							<div class="clearfix position-relative form-group col-md-10">
								<label class="col-md-4 control-label req" translate>Serial</label>
								<div class="col-md-8 ">
									<textarea class="form-control" id="serial" name="serial" 
									required data-required-msg="Serial không được để trống"
										ng-model="vm.findSerialSearch.serial" onclick="reset_msg();"></textarea>
										<span id ="msg" data-for='serial' class='k-invalid-msg'></span>
								</div>
								<script>
								function reset_msg(){
									document.getElementById('msg').innerHTML = '';
								}
								</script>
							</div>
						
					</div>
						<div class="clearfix form-actions margin-top">
							<div class="row">
								<div class="col-md-12 text-center">
									<button type="button"
										class="btn btn-qlk padding-search-right searchQLK"
										ng-click="vm.doSearchFindSerial()" translate>
										<i class="fa fa-search" aria-hidden="true"></i>Tìm kiếm
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="portlet light bordered">
		<div class="portlet-title background-title">
			<div class="caption">
				<span class="caption-subject bold lowercase" translate>Kết quả tìm kiếm: {{vm.findSerialGrid.dataSource.total()}} bản ghi</span>
			</div>
			<div class="text-right margin-row-title">
				<i data-toggle="collapse" data-target="#demoFindSerial1"
					class="fa fa-chevron-circle-up" aria-hidden="true"></i>
			</div>
			
		</div>
		<div id="demoFindSerial1" class="collapse in from-search">
			<div id="findSerialGrid" kendo-grid="vm.findSerialGrid" k-editable="false"
				k-options="vm.findSerialGridOptions"></div>
		</div>
	</div>
</div>