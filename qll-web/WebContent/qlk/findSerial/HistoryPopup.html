
<form class="form-horizontal row" role="form" id="history" kendo-validator="validator" k-options="validatorOptions"
	name="history">
	<div ng-show="caller.showSearch">
		<form class="form-horizontal row" role="form">
			<div class="form-body">
				<div class="portlet light bordered">
					<div class="portlet-title background-title">
						<div class="caption ">
							<span class="caption-subject bold lowercase" translate>Thông tin tìm kiếm </span>
						</div>
						<div class="text-right margin-row-title">
							<i data-toggle="collapse" data-target="#demo1"
								class="fa fa-chevron-circle-up" aria-hidden="true"></i>
						</div>
					</div>
					<div id="demo1" class="findSerialPopup collapse in from-search">
						<div class="clearfix position-relative">
							<div class="form-group col-md-12">
								<label class="col-md-5 control-label" translate>Serial</label>
								<div class="col-md-7">
									<label class="control-label pull-left"
										ng-bind="caller.historySearch.serial"
										ng-model="caller.historySearch.serial"></label>
								</div>
							</div>
						</div>
						<div class="clearfix position-relative">
							<div class="form-group col-md-12">
								<label class="col-md-5 control-label" translate>Tên hàng</label>
								<div class="col-md-7">
									<label class="control-label pull-left"
										ng-bind="caller.historySearch.goodsName"
										ng-model="caller.historySearch.goodsId"></label>
								</div>
							</div>
						</div>
						<div class="clearfix position-relative">
							<div class="form-group col-md-12">
								<label class="col-md-4 control-label req" translate>Ngày nhập/xuất: Từ ngày </label>
								<div class="col-md-3">
									<input kendo-date-picker class="form-control width100" required data-date-msg="Ngày nhập/xuất từ ngày không hợp lệ"
										name="startDate" ng-model="caller.historySearch.startDate" data-required-msg="Ngày nhập/xuất từ ngày không được để trống" 
										k-format="'dd/MM/yyyy'" id="startDate" />
										<span data-for="startDate" class="k-invalid-msg"></span>
								</div>
							<script>
								$(function() {
									var transDate = $("#startDate");
									transDate.kendoMaskedTextBox({
										mask : "00/00/0000"
									});
									transDate.closest(".k-datepicker")
									.add(transDate)
									.removeClass("k-textbox");
								});
							</script>
							<label class="col-md-2 control-label" translate>đến</label>
								<div class="col-md-3 position-relative">
									<input kendo-date-picker class="form-control width100"  data-date-msg="Ngày nhập/xuất đến ngày không hợp lệ"
										name="endDate" ng-model="caller.historySearch.endDate"
										k-format="'dd/MM/yyyy'" id="endDate" />
										<span data-for="endDate" class="k-invalid-msg"></span>
								</div>
							
							<script>
								$(function() {
									var transDate = $("#endDate");
									transDate.kendoMaskedTextBox({
										mask : "00/00/0000"
									});
									transDate.closest(".k-datepicker").add(
											transDate).removeClass("k-textbox");
								});
							</script>
						</div>
						<div class="clearfix form-actions margin-top">
							<div class="row">
								<div class="col-md-12 text-center">
									<button type="button"
										class="margin-top10 btn btn-qlk padding-search-right searchQLK " ng-click="caller.doSearchHistory()" translate>
										<i class="fa fa-search" aria-hidden="true"></i>Xem lịch sử
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div class="portlet light bordered">
		<div class="portlet-title background-title">
			<div class="caption">
				<span class="caption-subject bold lowercase" translate>Kết quả tìm kiếm: {{caller.historyGrid.dataSource.total()}} bản ghi</span>
			</div>
			<div class="text-right margin-row-title">
				<i data-toggle="collapse" data-target="#demoHistory"
					class="fa fa-chevron-circle-up" aria-hidden="true"></i>
			</div>

		</div>
		<div id="demoHistory" class="collapse in from-search">
			<div id="historyGrid" kendo-grid="caller.historyGrid"
				k-editable="false" k-options="caller.historyGridOptions"></div>
		</div>
		<div class="clearfix form-actions margin-top">
			<div class="row" style="margin-right: 0px">
				<div class="col-md-12 text-center">
					<button type="button"
						class="btn green btn-outline padding-search pull-right"
						id="cancel" ng-click="cancel()" translate>Đóng</button>
				</div>
			</div>
		</div>
	</div>
</form>